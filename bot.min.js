v="1.2.1_bkmk.min",window.log=function(){window.logDebugging&&console.log.apply(console,arguments)};var canvas=window.canvas=function(){return{canvasRatio:{x:window.mc.width/window.ww,y:window.mc.height/window.hh},setMouseCoordinates:function(o){window.xm=o.x,window.ym=o.y},mouseToScreen:function(o){var e=o.x+window.ww/2,n=o.y+window.hh/2;return{x:e,y:n}},screenToCanvas:function(o){var e=window.csc*(o.x*canvas.canvasRatio.x)-parseInt(window.mc.style.left),n=window.csc*(o.y*canvas.canvasRatio.y)-parseInt(window.mc.style.top);return{x:e,y:n}},mapToMouse:function(o){var e=(o.x-window.snake.xx)*window.gsc,n=(o.y-window.snake.yy)*window.gsc;return{x:e,y:n}},mapToCanvas:function(o){var e=canvas.mapToMouse(o);return e=canvas.mouseToScreen(e),e=canvas.screenToCanvas(e)},circleMapToCanvas:function(o){var e=canvas.mapToCanvas(o);return canvas.circle(e.x,e.y,o.radius*window.gsc)},point:function(o,e){var n={x:Math.round(o),y:Math.round(e)};return n},rect:function(o,e,n,t){var i={x:Math.round(o),y:Math.round(e),width:Math.round(n),height:Math.round(t)};return i},circle:function(o,e,n){var t={x:Math.round(o),y:Math.round(e),radius:Math.round(n)};return t},fastAtan2:function(o,e){const n=Math.PI/4,t=3*Math.PI/4;var i=0,a=0,s=Math.abs(o)+1e-10;return 0>e?(i=(e+s)/(s-e),a=t):(i=(e-s)/(e+s),a=n),a+=(.1963*i*i-.9817)*i,0>o?-a:a},setZoom:function(o){window.gsc&&(window.gsc*=Math.pow(.9,o.wheelDelta/-120||o.detail/2||0),window.desired_gsc=window.gsc)},resetZoom:function(){window.gsc=.9,window.desired_gsc=.9},maintainZoom:function(){void 0!==window.desired_gsc&&(window.gsc=window.desired_gsc)},setBackground:function(o){o="undefined"!=typeof o?o:"/s/bg45.jpg",window.ii.src=o},drawRect:function(o,e,n,t){void 0===t&&(t=1);var i=window.mc.getContext("2d"),a=canvas.mapToCanvas({x:o.x,y:o.y});i.save(),i.globalAlpha=t,i.strokeStyle=e,i.rect(a.x,a.y,o.width*window.gsc,o.height*window.gsc),i.stroke(),n&&(i.fillStyle=e,i.fill()),i.restore()},drawCircle:function(o,e,n,t){void 0===t&&(t=1),void 0===o.radius&&(o.radius=5);var i=window.mc.getContext("2d"),a=canvas.circleMapToCanvas(o);i.save(),i.globalAlpha=t,i.beginPath(),i.strokeStyle=e,i.arc(a.x,a.y,a.radius,0,2*Math.PI),i.stroke(),n&&(i.fillStyle=e,i.fill()),i.restore()},drawAngle:function(o,e,n,t,i){void 0===i&&(i=.6);var a=window.mc.getContext("2d");a.save(),a.globalAlpha=i,a.beginPath(),a.moveTo(window.mc.width/2,window.mc.height/2),a.arc(window.mc.width/2,window.mc.height/2,100*window.gsc,o,e),a.lineTo(window.mc.width/2,window.mc.height/2),a.closePath(),a.stroke(),t&&(a.fillStyle=n,a.fill()),a.restore()},drawLine:function(o,e,n,t){void 0===t&&(t=5);var i=window.mc.getContext("2d"),a=canvas.mapToCanvas(o),s=canvas.mapToCanvas(e);i.save(),i.beginPath(),i.lineWidth=t*window.gsc,i.strokeStyle=n,i.moveTo(a.x,a.y),i.lineTo(s.x,s.y),i.stroke(),i.restore()},isLeft:function(o,e,n){return(e.x-o.x)*(n.y-o.y)-(e.y-o.y)*(n.x-o.x)>0},getDistance2:function(o,e,n,t){var i=Math.pow(o-n,2)+Math.pow(e-t,2);return i},getDistance2FromSnake:function(o){return o.distance=canvas.getDistance2(window.snake.xx,window.snake.yy,o.xx,o.yy),o},pointInRect:function(o,e){return e.x<=o.x&&e.y<=o.y&&e.x+e.width>=o.x&&e.y+e.height>=o.y?!0:!1},circleIntersect:function(o,e){var n=o.radius+e.radius;if(o.x+n>e.x&&o.y+n>e.y&&o.x<e.x+n&&o.y<e.y+n){var t=canvas.getDistance2(o.x,o.y,e.x,e.y);if(n*n>t){if(window.visualDebugging){var i=canvas.circle((o.x*e.radius+e.x*o.radius)/n,(o.y*e.radius+e.y*o.radius)/n,5);canvas.drawCircle(e,"red",!0),canvas.drawCircle(i,"cyan",!0)}return!0}}return!1}}}(),bot=window.bot=function(){return{isBotRunning:!1,isBotEnabled:!0,lookForFood:!1,collisionPoints:[],collisionAngles:[],scores:[],foodTimeout:void 0,sectorBoxSide:0,defaultAccel:0,sectorBox:{},currentFood:{},opt:{targetFps:30,arcSize:Math.PI/8,radiusMult:10,foodAccelSz:60,foodAccelDa:Math.PI/3,foodFrames:4,foodRoundSz:5,foodRoundA:Math.PI/8,foodSmallSz:10,rearHeadA:3*Math.PI/4,rearHeadDir:Math.PI/2},MID_X:0,MID_Y:0,MAP_R:0,getSnakeWidth:function(o){return void 0===o&&(o=window.snake.sc),Math.round(29*o)},quickRespawn:function(){window.dead_mtm=0,window.login_fr=0,bot.isBotRunning=!1,window.forcing=!0,window.connect(),window.forcing=!1},angleBetween:function(o,e){var n=0,t=0;return n=(o-e)%Math.PI,t=(e-o)%Math.PI,t>n?-n:t},avoidHeadPoint:function(o){var e=canvas.fastAtan2(o.yy-window.snake.yy,o.xx-window.snake.xx),n=bot.angleBetween(window.snake.ehang,e);if(Math.abs(n)>bot.opt.rearHeadA){var t=n>0?-bot.opt.rearHeadDir:bot.opt.rearHeadDir;bot.changeHeading(t)}else bot.avoidCollisionPoint(o)},changeHeading:function(o){var e={x:window.snake.xx+500*bot.cos,y:window.snake.yy+500*bot.sin},n=Math.cos(-o),t=Math.sin(-o);window.goalCoordinates={x:Math.round(n*(e.x-window.snake.xx)-t*(e.y-window.snake.yy)+window.snake.xx),y:Math.round(t*(e.x-window.snake.xx)+n*(e.y-window.snake.yy)+window.snake.yy)},canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))},avoidCollisionPoint:function(o,e){(void 0===e||e>Math.PI)&&(e=Math.PI);var n={x:window.snake.xx+2e3*bot.cos,y:window.snake.yy+2e3*bot.sin};window.visualDebugging&&(canvas.drawLine({x:window.snake.xx,y:window.snake.yy},n,"orange",5),canvas.drawLine({x:window.snake.xx,y:window.snake.yy},{x:o.xx,y:o.yy},"red",5));var t=Math.cos(e),i=Math.sin(e);canvas.isLeft({x:window.snake.xx,y:window.snake.yy},n,{x:o.xx,y:o.yy})&&(i=-i),window.goalCoordinates={x:Math.round(t*(o.xx-window.snake.xx)-i*(o.yy-window.snake.yy)+window.snake.xx),y:Math.round(i*(o.xx-window.snake.xx)+t*(o.yy-window.snake.yy)+window.snake.yy)},canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))},sortDistance:function(o,e){return o.distance-e.distance},getAngleIndex:function(o){const e=bot.opt.arcSize;var n;return 0>o&&(o+=2*Math.PI),n=Math.round(o*(1/e)),n===2*Math.PI/e?0:n},addCollisionAngle:function(o){var e=canvas.fastAtan2(Math.round(o.yy-window.snake.yy),Math.round(o.xx-window.snake.xx)),n=bot.getAngleIndex(e),t=Math.round(Math.pow(Math.sqrt(o.distance)-o.radius,2));void 0===bot.collisionAngles[n]?bot.collisionAngles[n]={x:Math.round(o.xx),y:Math.round(o.yy),ang:e,snake:o.snake,distance:t}:bot.collisionAngles[n].distance>o.distance&&(bot.collisionAngles[n].x=Math.round(o.xx),bot.collisionAngles[n].y=Math.round(o.yy),bot.collisionAngles[n].ang=e,bot.collisionAngles[n].snake=o.snake,bot.collisionAngles[n].distance=t)},getCollisionPoints:function(){var o;bot.collisionPoints=[],bot.collisionAngles=[];for(var e=0,n=window.snakes.length;n>e;e++){if(o=void 0,window.snakes[e].id!==window.snake.id&&1===window.snakes[e].alive_amt){o={xx:window.snakes[e].xx,yy:window.snakes[e].yy,snake:e,radius:bot.getSnakeWidth(window.snakes[e].sc)/2},canvas.getDistance2FromSnake(o),bot.addCollisionAngle(o),window.visualDebugging&&canvas.drawCircle(canvas.circle(o.xx,o.yy,o.radius),"red",!1);for(var t=0,i=window.snakes[e].pts.length;i>t;t++)if(!window.snakes[e].pts[t].dying&&canvas.pointInRect({x:window.snakes[e].pts[t].xx,y:window.snakes[e].pts[t].yy},bot.sectorBox)){var a={xx:window.snakes[e].pts[t].xx,yy:window.snakes[e].pts[t].yy,snake:e,radius:bot.getSnakeWidth(window.snakes[e].sc)/2};window.visualDebugging,1,canvas.getDistance2FromSnake(a),bot.addCollisionAngle(a),(void 0===o||o.distance>a.distance)&&(o=a)}}void 0!==o&&(bot.collisionPoints.push(o),window.visualDebugging&&canvas.drawCircle(canvas.circle(o.xx,o.yy,o.radius),"red",!1))}if(canvas.getDistance2(bot.MID_X,bot.MID_Y,window.snake.xx,window.snake.yy)>Math.pow(bot.MAP_R-1e3,2)){var s=canvas.fastAtan2(window.snake.yy-bot.MID_X,window.snake.xx-bot.MID_Y);o={xx:bot.MID_X+bot.MAP_R*Math.cos(s),yy:bot.MID_Y+bot.MAP_R*Math.sin(s),snake:-1,radius:bot.snakeWidth},canvas.getDistance2FromSnake(o),bot.collisionPoints.push(o),bot.addCollisionAngle(o),window.visualDebugging&&canvas.drawCircle(canvas.circle(o.xx,o.yy,o.radius),"yellow",!1)}if(bot.collisionPoints.sort(bot.sortDistance),window.visualDebugging)for(var d=0;d<bot.collisionAngles.length;d++)void 0!==bot.collisionAngles[d]&&canvas.drawLine({x:window.snake.xx,y:window.snake.yy},{x:bot.collisionAngles[d].x,y:bot.collisionAngles[d].y},"#99ffcc",2)},checkCollision:function(){var o=canvas.circle(window.snake.xx,window.snake.yy,bot.speedMult*bot.opt.radiusMult/2*bot.snakeRadius),e=canvas.circle(window.snake.xx,window.snake.yy,bot.opt.radiusMult*bot.snakeRadius);if(window.visualDebugging&&(canvas.drawCircle(e,"red"),canvas.drawCircle(o,"blue",!1)),bot.getCollisionPoints(),0===bot.collisionPoints.length)return!1;for(var n=0;n<bot.collisionPoints.length;n++){var t=canvas.circle(bot.collisionPoints[n].xx,bot.collisionPoints[n].yy,bot.collisionPoints[n].radius);if(canvas.circleIntersect(o,t))return window.setAcceleration(bot.defaultAccel),bot.avoidCollisionPoint(bot.collisionPoints[n]),!0;if(-1!==bot.collisionPoints[n].snake){var i=canvas.circle(window.snakes[bot.collisionPoints[n].snake].xx,window.snakes[bot.collisionPoints[n].snake].yy,bot.collisionPoints[n].radius);if(canvas.circleIntersect(e,i))return window.snakes[bot.collisionPoints[n].snake].sp>10?window.setAcceleration(1):window.setAcceleration(bot.defaultAccel),bot.avoidHeadPoint({xx:window.snakes[bot.collisionPoints[n].snake].xx,yy:window.snakes[bot.collisionPoints[n].snake].yy}),!0}}return window.setAcceleration(bot.defaultAccel),!1},sortScore:function(o,e){return e.score-o.score},scoreFood:function(o){o.score=Math.pow(Math.ceil(o.sz/bot.opt.foodRoundSz)*bot.opt.foodRoundSz,2)/o.distance/(Math.ceil(o.da/bot.opt.foodRoundA)*bot.opt.foodRoundA)},computeFoodGoal:function(){for(var o=[],e=[],n=0,t=bot.snakeWidth,i=0;i<window.foods.length&&null!==window.foods[i];i++){var a,s,d,r=window.snake.ehang,w=window.foods[i];if(!w.eaten&&!canvas.circleIntersect(canvas.circle(w.xx,w.yy,2),bot.sidecircle_l)&&!canvas.circleIntersect(canvas.circle(w.xx,w.yy,2),bot.sidecircle_r)){var c=Math.round(Math.round(w.xx/t)*t),l=Math.round(Math.round(w.yy/t)*t),u=Math.round(w.sz);void 0===e[c+"|"+l]?(e[c+"|"+l]=n,a=canvas.fastAtan2(l-window.snake.yy,c-window.snake.xx),s=Math.min(2*Math.PI-Math.abs(a-r),Math.abs(a-r)),d=Math.round(canvas.getDistance2(c,l,window.snake.xx,window.snake.yy)),o[n]={x:c,y:l,a:a,da:s,sz:u,distance:d,score:0},n++):o[e[c+"|"+l]].sz+=u}}for(o.forEach(bot.scoreFood),o.sort(bot.sortScore),i=0;i<o.length;i++){var y=bot.getAngleIndex(o[i].a);if(void 0===bot.collisionAngles[y]||Math.sqrt(bot.collisionAngles[y].distance)-bot.snakeRadius*bot.opt.radiusMult/2>Math.sqrt(o[i].distance)&&o[i].sz>bot.opt.foodSmallSz)return void(bot.currentFood=o[i])}bot.currentFood={x:bot.MID_X,y:bot.MID_Y}},foodAccel:function(){var o=0;if(bot.currentFood&&bot.currentFood.sz>bot.opt.foodAccelSz){if(o=bot.getAngleIndex(bot.currentFood.a),bot.collisionAngles[o]&&bot.collisionAngles[o].distance>bot.currentFood.distance+bot.snakeWidth*bot.opt.radiusMult&&bot.currentFood.da<bot.opt.foodAccelDa)return 1;if(void 0===bot.collisionAngles[o])return 1}return bot.defaultAccel},every:function(){bot.MID_X=window.grd,bot.MID_Y=window.grd,bot.MAP_R=.98*window.grd,bot.sectorBoxSide=Math.floor(Math.sqrt(window.sectors.length))*window.sector_size,bot.sectorBox=canvas.rect(window.snake.xx-bot.sectorBoxSide/2,window.snake.yy-bot.sectorBoxSide/2,bot.sectorBoxSide,bot.sectorBoxSide),bot.cos=Math.cos(window.snake.ang),bot.sin=Math.sin(window.snake.ang),bot.speedMult=window.snake.sp/5.78,bot.snakeRadius=bot.getSnakeWidth()/2,bot.snakeWidth=bot.getSnakeWidth(),bot.sidecircle_r=canvas.circle(window.snake.lnp.xx-(window.snake.lnp.yy+bot.sin*bot.snakeWidth-window.snake.lnp.yy),window.snake.lnp.yy+(window.snake.lnp.xx+bot.cos*bot.snakeWidth-window.snake.lnp.xx),bot.snakeWidth*bot.speedMult),bot.sidecircle_l=canvas.circle(window.snake.lnp.xx+(window.snake.lnp.yy+bot.sin*bot.snakeWidth-window.snake.lnp.yy),window.snake.lnp.yy-(window.snake.lnp.xx+bot.cos*bot.snakeWidth-window.snake.lnp.xx),bot.snakeWidth*bot.speedMult)},go:function(){bot.every(),bot.checkCollision()?(bot.lookForFood=!1,bot.foodTimeout&&(window.clearTimeout(bot.foodTimeout),bot.foodTimeout=window.setTimeout(bot.foodTimer,1e3/bot.opt.targetFps*bot.opt.foodFrames))):(bot.lookForFood=!0,void 0===bot.foodTimeout&&(bot.foodTimeout=window.setTimeout(bot.foodTimer,1e3/bot.opt.targetFps*bot.opt.foodFrames)),window.setAcceleration(bot.foodAccel()))},foodTimer:function(){window.playing&&bot.lookForFood&&null!==window.snake&&1===window.snake.alive_amt&&(bot.computeFoodGoal(),window.goalCoordinates=bot.currentFood,canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))),bot.foodTimeout=void 0}}}(),userInterface=window.userInterface=function(){var o=document.onkeydown,e=window.onmousedown,n=window.oef,t=window.redraw,i=window.onmousemove;return window.oef=function(){},window.redraw=function(){},{overlays:{},initOverlays:function(){var o=document.createElement("div");o.style.position="fixed",o.style.right="5px",o.style.bottom="112px",o.style.width="150px",o.style.height="85px",o.style.color="#C0C0C0",o.style.fontFamily="Consolas, Verdana",o.style.zIndex=999,o.style.fontSize="14px",o.style.padding="5px",o.style.borderRadius="5px",o.className="nsi",document.body.appendChild(o);var e=document.createElement("div");e.style.position="fixed",e.style.right="5px",e.style.bottom="5px",e.style.width="160px",e.style.height="14px",e.style.color="#C0C0C0",e.style.fontFamily="Consolas, Verdana",e.style.zIndex=999,e.style.fontSize="14px",e.className="nsi",document.body.appendChild(e);var n=document.createElement("div");n.style.position="fixed",n.style.left="10px",n.style.top="75px",n.style.width="260px",n.style.height="210px",n.style.color="#C0C0C0",n.style.fontFamily="Consolas, Verdana",n.style.zIndex=999,n.style.fontSize="14px",n.style.padding="5px",n.style.borderRadius="5px",n.className="nsi",document.body.appendChild(n);var t=document.createElement("div");t.style.position="fixed",t.style.left="10px",t.style.top="295px",t.style.width="140px",t.style.height="210px",t.style.color="#C0C0C0",t.style.fontFamily="Consolas, Verdana",t.style.zIndex=998,t.style.fontSize="14px",t.style.padding="5px",t.style.borderRadius="5px",t.className="nsi",document.body.appendChild(t),userInterface.overlays.botOverlay=o,userInterface.overlays.serverOverlay=e,userInterface.overlays.prefOverlay=n,userInterface.overlays.statsOverlay=t},toggleOverlays:function(){Object.keys(userInterface.overlays).forEach(function(o){var e="hidden"!==userInterface.overlays[o].style.visibility?"hidden":"visible";userInterface.overlays[o].style.visibility=e,window.visualDebugging="visible"===e})},savePreference:function(o,e){window.localStorage.setItem(o,e),userInterface.onPrefChange()},loadPreference:function(o,e){var n=window.localStorage.getItem(o);return null!==n?("true"===n?window[o]=!0:"false"===n?window[o]=!1:window[o]=n,window.log("Setting found for "+o+": "+window[o])):(window[o]=e,window.log("No setting found for "+o+". Used default: "+window[o])),userInterface.onPrefChange(),window[o]},playButtonClickListener:function(){userInterface.saveNick(),userInterface.loadPreference("autoRespawn",!1),userInterface.onPrefChange()},saveNick:function(){var o=document.getElementById("nick").value;userInterface.savePreference("savedNick",o)},hideTop:function(){for(var o=document.querySelectorAll("div.nsi"),e=0;e<o.length;e++)"4px"===o[e].style.top&&"300px"===o[e].style.width&&(o[e].style.visibility="hidden",bot.isTopHidden=!0,window.topscore=o[e])},framesPerSecond:{fps:0,fpsTimer:function(){window.playing&&window.fps&&window.lrd_mtm&&Date.now()-window.lrd_mtm>970&&(userInterface.framesPerSecond.fps=window.fps)}},onkeydown:function(e){o(e),window.playing&&(84===e.keyCode&&(bot.isBotEnabled=!bot.isBotEnabled),85===e.keyCode&&(window.logDebugging=!window.logDebugging,console.log("Log debugging set to: "+window.logDebugging),userInterface.savePreference("logDebugging",window.logDebugging)),89===e.keyCode&&(window.visualDebugging=!window.visualDebugging,console.log("Visual debugging set to: "+window.visualDebugging),userInterface.savePreference("visualDebugging",window.visualDebugging)),73===e.keyCode&&(window.autoRespawn=!window.autoRespawn,console.log("Automatic Respawning set to: "+window.autoRespawn),userInterface.savePreference("autoRespawn",window.autoRespawn)),72===e.keyCode&&userInterface.toggleOverlays(),79===e.keyCode&&userInterface.toggleMobileRendering(!window.mobileRender),65===e.keyCode&&(bot.opt.radiusMult++,console.log("radiusMult set to: "+bot.opt.radiusMult)),83===e.keyCode&&bot.opt.radiusMult>1&&(bot.opt.radiusMult--,console.log("radiusMult set to: "+bot.opt.radiusMult)),90===e.keyCode&&canvas.resetZoom(),81===e.keyCode&&(window.autoRespawn=!1,userInterface.quit()),27===e.keyCode&&bot.quickRespawn(),13===e.keyCode&&userInterface.saveNick(),userInterface.onPrefChange())},onmousedown:function(o){if(window.playing)switch(o.which){case 1:bot.defaultAccel=1,bot.isBotEnabled||e(o);break;case 3:bot.isBotEnabled=!bot.isBotEnabled}else e(o);userInterface.onPrefChange()},onmouseup:function(){bot.defaultAccel=0},toggleMobileRendering:function(o){window.mobileRender=o,window.log("Mobile rendering set to: "+window.mobileRender),userInterface.savePreference("mobileRender",window.mobileRender),window.mobileRender?(window.render_mode=1,window.want_quality=0,window.high_quality=!1):(window.render_mode=2,window.want_quality=1,window.high_quality=!0)},updateStats:function(){var o=[];if(0!==bot.scores.length){o.push("games played: "+bot.scores.length),o.push("avg score: "+Math.round(bot.scores.reduce(function(o,e){return o+e})/bot.scores.length));for(var e=0;e<bot.scores.length&&10>e;e++)o.push(e+1+". "+bot.scores[e]);userInterface.overlays.statsOverlay.innerHTML=o.join("<br/>")}},onPrefChange:function(){var o=[],e=userInterface.handleTextColor;o.push("version: "+v),o.push("[T / Right click] bot: "+e(bot.isBotEnabled)),o.push("[O] mobile rendering: "+e(window.mobileRender)),o.push("[A/S] radius multiplier: "+bot.opt.radiusMult),o.push("[I] auto respawn: "+e(window.autoRespawn)),o.push("[Y] visual debugging: "+e(window.visualDebugging)),o.push("[U] log debugging: "+e(window.logDebugging)),o.push("[H] overlays"),o.push("[Mouse Wheel] zoom"),o.push("[Z] reset zoom"),o.push("[ESC] quick respawn"),o.push("[Q] quit to menu"),userInterface.overlays.prefOverlay.innerHTML=o.join("<br/>")},onFrameUpdate:function(){var o=[];if(window.playing&&null!==window.snake&&(o.push("fps: "+userInterface.framesPerSecond.fps),o.push("x: "+(Math.round(window.snake.xx)||0)+" y: "+(Math.round(window.snake.yy)||0)),window.goalCoordinates&&(o.push("target"),o.push("x: "+window.goalCoordinates.x+" y: "+window.goalCoordinates.y),window.goalCoordinates.sz&&o.push("sz: "+window.goalCoordinates.sz)),void 0!==window.bso&&userInterface.overlays.serverOverlay.innerHTML!==window.bso.ip+":"+window.bso.po&&(userInterface.overlays.serverOverlay.innerHTML=window.bso.ip+":"+window.bso.po)),userInterface.overlays.botOverlay.innerHTML=o.join("<br/>"),window.playing&&window.visualDebugging&&window.goalCoordinates&&bot.isBotEnabled){var e={x:window.snake.xx,y:window.snake.yy};canvas.drawLine(e,window.goalCoordinates,"green"),canvas.drawCircle(window.goalCoordinates,"red",!0)}},oefTimer:function(){var o=Date.now();canvas.maintainZoom(),n(),t(),window.playing&&bot.isBotEnabled&&null!==window.snake?(window.onmousemove=function(){},bot.isBotRunning=!0,bot.go()):bot.isBotEnabled&&bot.isBotRunning&&(bot.isBotRunning=!1,window.lastscore&&window.lastscore.childNodes[1]&&(bot.scores.push(parseInt(window.lastscore.childNodes[1].innerHTML)),bot.scores.sort(function(o,e){return e-o}),userInterface.updateStats()),window.autoRespawn&&window.connect()),bot.isBotEnabled&&bot.isBotRunning||(window.onmousemove=i),userInterface.onFrameUpdate(),setTimeout(userInterface.oefTimer,1e3/bot.opt.targetFps-(Date.now()-o))},quit:function(){window.playing&&window.resetGame&&(window.want_close_socket=!0,window.dead_mtm=0,window.play_btn&&window.play_btn.setEnabled(!0),window.resetGame())},onresize:function(){window.resize(),canvas.canvasRatio={x:window.mc.width/window.ww,y:window.mc.height/window.hh}},handleTextColor:function(o){return'<span style="color:'+(o?'green;">enabled':'red;">disabled')+"</span>"}}}();!function(){window.play_btn.btnf.addEventListener("click",userInterface.playButtonClickListener),document.onkeydown=userInterface.onkeydown,window.onmousedown=userInterface.onmousedown,window.addEventListener("mouseup",userInterface.onmouseup),window.onresize=userInterface.onresize,userInterface.hideTop(),userInterface.initOverlays(),userInterface.loadPreference("logDebugging",!1),userInterface.loadPreference("visualDebugging",!1),userInterface.loadPreference("autoRespawn",!1),userInterface.loadPreference("mobileRender",!1),window.nick.value=userInterface.loadPreference("savedNick","Slither.io-bot"),document.body.addEventListener("mousewheel",canvas.setZoom),document.body.addEventListener("DOMMouseScroll",canvas.setZoom),window.mobileRender?userInterface.toggleMobileRendering(!0):userInterface.toggleMobileRendering(!1),window.localStorage.setItem("edttsg","1"),window.social.remove(),setInterval(userInterface.framesPerSecond.fpsTimer,80),userInterface.oefTimer()}();