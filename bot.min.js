version='1.2.0_bkmk.min'window.log=function(){if(window.logDebugging){console.log.apply(console,arguments)}};var canvas=window.canvas=(function(){return{canvasRatio:{x:window.mc.width/window.ww,y:window.mc.height/window.hh},setMouseCoordinates:function(a){window.xm=a.x;window.ym=a.y},mouseToScreen:function(a){var b=a.x+(window.ww/2);var c=a.y+(window.hh/2);return{x:b,y:c}},screenToCanvas:function(a){var b=window.csc*(a.x*canvas.canvasRatio.x)-parseInt(window.mc.style.left);var c=window.csc*(a.y*canvas.canvasRatio.y)-parseInt(window.mc.style.top);return{x:b,y:c}},mapToMouse:function(a){var b=(a.x-window.snake.xx)*window.gsc;var c=(a.y-window.snake.yy)*window.gsc;return{x:b,y:c}},mapToCanvas:function(a){var c=canvas.mapToMouse(a);c=canvas.mouseToScreen(c);c=canvas.screenToCanvas(c);return c},circleMapToCanvas:function(a){var b=canvas.mapToCanvas(a);return canvas.circle(b.x,b.y,a.radius*window.gsc)},point:function(x,y){var p={x:Math.round(x),y:Math.round(y)};return p},rect:function(x,y,w,h){var r={x:Math.round(x),y:Math.round(y),width:Math.round(w),height:Math.round(h)};return r},circle:function(x,y,r){var c={x:Math.round(x),y:Math.round(y),radius:Math.round(r)};return c},fastAtan2:function(y,x){const QPI=Math.PI/4;const TQPI=3*Math.PI/4;var r=0.0;var a=0.0;var b=Math.abs(y)+1e-10;if(x<0){r=(x+b)/(b-x);a=TQPI}else{r=(x-b)/(x+b);a=QPI}a+=(0.1963*r*r-0.9817)*r;if(y<0){return-a}return a},setZoom:function(e){if(window.gsc){window.gsc*=Math.pow(0.9,e.wheelDelta/-120||e.detail/2||0);window.desired_gsc=window.gsc}},resetZoom:function(){window.gsc=0.9;window.desired_gsc=0.9},maintainZoom:function(){if(window.desired_gsc!==undefined){window.gsc=window.desired_gsc}},setBackground:function(a){a=typeof a!=='undefined'?a:'/s/bg45.jpg';window.ii.src=a},drawRect:function(a,b,c,d){if(d===undefined)d=1;var e=window.mc.getContext('2d');var f=canvas.mapToCanvas({x:a.x,y:a.y});e.save();e.globalAlpha=d;e.strokeStyle=b;e.rect(f.x,f.y,a.width*window.gsc,a.height*window.gsc);e.stroke();if(c){e.fillStyle=b;e.fill()}e.restore()},drawCircle:function(a,b,c,d){if(d===undefined)d=1;if(a.radius===undefined)a.radius=5;var e=window.mc.getContext('2d');var f=canvas.circleMapToCanvas(a);e.save();e.globalAlpha=d;e.beginPath();e.strokeStyle=b;e.arc(f.x,f.y,f.radius,0,Math.PI*2);e.stroke();if(c){e.fillStyle=b;e.fill()}e.restore()},drawAngle:function(a,b,c,d,e){if(e===undefined)e=0.6;var f=window.mc.getContext('2d');f.save();f.globalAlpha=e;f.beginPath();f.moveTo(window.mc.width/2,window.mc.height/2);f.arc(window.mc.width/2,window.mc.height/2,window.gsc*100,a,b);f.lineTo(window.mc.width/2,window.mc.height/2);f.closePath();f.stroke();if(d){f.fillStyle=c;f.fill()}f.restore()},drawLine:function(a,b,c,d){if(d===undefined)d=5;var e=window.mc.getContext('2d');var f=canvas.mapToCanvas(a);var g=canvas.mapToCanvas(b);e.save();e.beginPath();e.lineWidth=d*window.gsc;e.strokeStyle=c;e.moveTo(f.x,f.y);e.lineTo(g.x,g.y);e.stroke();e.restore()},isLeft:function(a,b,c){return((b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x))>0},getDistance2:function(a,b,c,d){var e=Math.pow(a-c,2)+Math.pow(b-d,2);return e},getDistance2FromSnake:function(a){a.distance=canvas.getDistance2(window.snake.xx,window.snake.yy,a.xx,a.yy);return a},pointInRect:function(a,b){if(b.x<=a.x&&b.y<=a.y&&b.x+b.width>=a.x&&b.y+b.height>=a.y){return true}return false},circleIntersect:function(a,b){var c=a.radius+b.radius;if(a.x+c>b.x&&a.y+c>b.y&&a.x<b.x+c&&a.y<b.y+c){var d=canvas.getDistance2(a.x,a.y,b.x,b.y);if(d<c*c){if(window.visualDebugging){var e=canvas.circle(((a.x*b.radius)+(b.x*a.radius))/c,((a.y*b.radius)+(b.y*a.radius))/c,5);canvas.drawCircle(b,'red',true);canvas.drawCircle(e,'cyan',true)}return true}}return false}}})();var bot=window.bot=(function(){return{isBotRunning:false,isBotEnabled:true,lookForFood:false,collisionPoints:[],collisionAngles:[],scores:[],foodTimeout:undefined,sectorBoxSide:0,defaultAccel:0,sectorBox:{},currentFood:{},opt:{targetFps:30,arcSize:Math.PI/8,radiusMult:10,foodAccelSz:60,foodAccelDa:Math.PI/3,foodFrames:4,foodRoundSz:5,foodRoundA:Math.PI/8,foodSmallSz:10,rearHeadA:3*Math.PI/4,rearHeadDir:Math.PI/2},MID_X:0,MID_Y:0,MAP_R:0,getSnakeWidth:function(a){if(a===undefined)a=window.snake.sc;return Math.round(a*29.0)},quickRespawn:function(){window.dead_mtm=0;window.login_fr=0;bot.isBotRunning=false;window.forcing=true;window.connect();window.forcing=false},angleBetween:function(a,b){var c=0.0;var d=0.0;c=(a-b)%Math.PI;d=(b-a)%Math.PI;return c<d?-c:d},avoidHeadPoint:function(a){var b=canvas.fastAtan2(a.yy-window.snake.yy,a.xx-window.snake.xx);var c=bot.angleBetween(window.snake.ehang,b);if(Math.abs(c)>bot.opt.rearHeadA){var d=c>0?-bot.opt.rearHeadDir:bot.opt.rearHeadDir;bot.changeHeading(d)}else{bot.avoidCollisionPoint(a)}},changeHeading:function(a){var b={x:window.snake.xx+500*bot.cos,y:window.snake.yy+500*bot.sin};var c=Math.cos(-a);var d=Math.sin(-a);window.goalCoordinates={x:Math.round(c*(b.x-window.snake.xx)-d*(b.y-window.snake.yy)+window.snake.xx),y:Math.round(d*(b.x-window.snake.xx)+c*(b.y-window.snake.yy)+window.snake.yy)};canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))},avoidCollisionPoint:function(a,b){if(b===undefined||b>Math.PI){b=Math.PI}var c={x:window.snake.xx+2000*bot.cos,y:window.snake.yy+2000*bot.sin};if(window.visualDebugging){canvas.drawLine({x:window.snake.xx,y:window.snake.yy},c,'orange',5);canvas.drawLine({x:window.snake.xx,y:window.snake.yy},{x:a.xx,y:a.yy},'red',5)}var d=Math.cos(b);var e=Math.sin(b);if(canvas.isLeft({x:window.snake.xx,y:window.snake.yy},c,{x:a.xx,y:a.yy})){e=-e}window.goalCoordinates={x:Math.round(d*(a.xx-window.snake.xx)-e*(a.yy-window.snake.yy)+window.snake.xx),y:Math.round(e*(a.xx-window.snake.xx)+d*(a.yy-window.snake.yy)+window.snake.yy)};canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))},sortDistance:function(a,b){return a.distance-b.distance},getAngleIndex:function(a){const ARCSIZE=bot.opt.arcSize;var b;if(a<0){a+=2*Math.PI}b=Math.round(a*(1/ARCSIZE));if(b===(2*Math.PI)/ARCSIZE){return 0}return b},addCollisionAngle:function(a){var b=canvas.fastAtan2(Math.round(a.yy-window.snake.yy),Math.round(a.xx-window.snake.xx));var c=bot.getAngleIndex(b);var d=Math.round(Math.pow(Math.sqrt(a.distance)-a.radius,2));if(bot.collisionAngles[c]===undefined){bot.collisionAngles[c]={x:Math.round(a.xx),y:Math.round(a.yy),ang:b,snake:a.snake,distance:d}}else if(bot.collisionAngles[c].distance>a.distance){bot.collisionAngles[c].x=Math.round(a.xx);bot.collisionAngles[c].y=Math.round(a.yy);bot.collisionAngles[c].ang=b;bot.collisionAngles[c].snake=a.snake;bot.collisionAngles[c].distance=d}},getCollisionPoints:function(){var a;bot.collisionPoints=[];bot.collisionAngles=[];for(var b=0,ls=window.snakes.length;b<ls;b++){a=undefined;if(window.snakes[b].id!==window.snake.id&&window.snakes[b].alive_amt===1){a={xx:window.snakes[b].xx,yy:window.snakes[b].yy,snake:b,radius:bot.getSnakeWidth(window.snakes[b].sc)/2};canvas.getDistance2FromSnake(a);bot.addCollisionAngle(a);if(window.visualDebugging){canvas.drawCircle(canvas.circle(a.xx,a.yy,a.radius),'red',false)}for(var c=0,lp=window.snakes[b].pts.length;c<lp;c++){if(!window.snakes[b].pts[c].dying&&canvas.pointInRect({x:window.snakes[b].pts[c].xx,y:window.snakes[b].pts[c].yy},bot.sectorBox)){var d={xx:window.snakes[b].pts[c].xx,yy:window.snakes[b].pts[c].yy,snake:b,radius:bot.getSnakeWidth(window.snakes[b].sc)/2};if(window.visualDebugging&&true===false){canvas.drawCircle(canvas.circle(d.xx,d.yy,d.radius),'#00FF00',false)}canvas.getDistance2FromSnake(d);bot.addCollisionAngle(d);if(a===undefined||a.distance>d.distance){a=d}}}}if(a!==undefined){bot.collisionPoints.push(a);if(window.visualDebugging){canvas.drawCircle(canvas.circle(a.xx,a.yy,a.radius),'red',false)}}}if(canvas.getDistance2(bot.MID_X,bot.MID_Y,window.snake.xx,window.snake.yy)>Math.pow(bot.MAP_R-1000,2)){var e=canvas.fastAtan2(window.snake.yy-bot.MID_X,window.snake.xx-bot.MID_Y);a={xx:bot.MID_X+bot.MAP_R*Math.cos(e),yy:bot.MID_Y+bot.MAP_R*Math.sin(e),snake:-1,radius:bot.snakeWidth};canvas.getDistance2FromSnake(a);bot.collisionPoints.push(a);bot.addCollisionAngle(a);if(window.visualDebugging){canvas.drawCircle(canvas.circle(a.xx,a.yy,a.radius),'yellow',false)}}bot.collisionPoints.sort(bot.sortDistance);if(window.visualDebugging){for(var i=0;i<bot.collisionAngles.length;i++){if(bot.collisionAngles[i]!==undefined){canvas.drawLine({x:window.snake.xx,y:window.snake.yy},{x:bot.collisionAngles[i].x,y:bot.collisionAngles[i].y},'#99ffcc',2)}}}},checkCollision:function(){var a=canvas.circle(window.snake.xx,window.snake.yy,bot.speedMult*bot.opt.radiusMult/2*bot.snakeRadius);var b=canvas.circle(window.snake.xx,window.snake.yy,bot.opt.radiusMult*bot.snakeRadius);if(window.visualDebugging){canvas.drawCircle(b,'red');canvas.drawCircle(a,'blue',false)}bot.getCollisionPoints();if(bot.collisionPoints.length===0)return false;for(var i=0;i<bot.collisionPoints.length;i++){var c=canvas.circle(bot.collisionPoints[i].xx,bot.collisionPoints[i].yy,bot.collisionPoints[i].radius);if(canvas.circleIntersect(a,c)){window.setAcceleration(bot.defaultAccel);bot.avoidCollisionPoint(bot.collisionPoints[i]);return true}if(bot.collisionPoints[i].snake!==-1){var d=canvas.circle(window.snakes[bot.collisionPoints[i].snake].xx,window.snakes[bot.collisionPoints[i].snake].yy,bot.collisionPoints[i].radius);if(canvas.circleIntersect(b,d)){if(window.snakes[bot.collisionPoints[i].snake].sp>10){window.setAcceleration(1)}else{window.setAcceleration(bot.defaultAccel)}bot.avoidHeadPoint({xx:window.snakes[bot.collisionPoints[i].snake].xx,yy:window.snakes[bot.collisionPoints[i].snake].yy});return true}}}window.setAcceleration(bot.defaultAccel);return false},sortScore:function(a,b){return b.score-a.score},scoreFood:function(f){f.score=Math.pow(Math.ceil(f.sz/bot.opt.foodRoundSz)*bot.opt.foodRoundSz,2)/f.distance/(Math.ceil(f.da/bot.opt.foodRoundA)*bot.opt.foodRoundA)},computeFoodGoal:function(){var b=[];var c=[];var d=0;var e=bot.snakeWidth;for(var i=0;i<window.foods.length&&window.foods[i]!==null;i++){var a;var g;var h;var j=window.snake.ehang;var f=window.foods[i];if(!f.eaten&&!(canvas.circleIntersect(canvas.circle(f.xx,f.yy,2),bot.sidecircle_l)||canvas.circleIntersect(canvas.circle(f.xx,f.yy,2),bot.sidecircle_r))){var k=Math.round(Math.round(f.xx/e)*e);var l=Math.round(Math.round(f.yy/e)*e);var m=Math.round(f.sz);if(c[k+'|'+l]===undefined){c[k+'|'+l]=d;a=canvas.fastAtan2(l-window.snake.yy,k-window.snake.xx);g=Math.min((2*Math.PI)-Math.abs(a-j),Math.abs(a-j));h=Math.round(canvas.getDistance2(k,l,window.snake.xx,window.snake.yy));b[d]={x:k,y:l,a:a,da:g,sz:m,distance:h,score:0.0};d++}else{b[c[k+'|'+l]].sz+=m}}}b.forEach(bot.scoreFood);b.sort(bot.sortScore);for(i=0;i<b.length;i++){var n=bot.getAngleIndex(b[i].a);if(bot.collisionAngles[n]===undefined||(Math.sqrt(bot.collisionAngles[n].distance)-bot.snakeRadius*bot.opt.radiusMult/2>Math.sqrt(b[i].distance)&&b[i].sz>bot.opt.foodSmallSz)){bot.currentFood=b[i];return}}bot.currentFood={x:bot.MID_X,y:bot.MID_Y}},foodAccel:function(){var a=0;if(bot.currentFood&&bot.currentFood.sz>bot.opt.foodAccelSz){a=bot.getAngleIndex(bot.currentFood.a);if(bot.collisionAngles[a]&&bot.collisionAngles[a].distance>bot.currentFood.distance+bot.snakeWidth*bot.opt.radiusMult&&bot.currentFood.da<bot.opt.foodAccelDa){return 1}if(bot.collisionAngles[a]===undefined){return 1}}return bot.defaultAccel},every:function(){bot.MID_X=window.grd;bot.MID_Y=window.grd;bot.MAP_R=window.grd*0.98;bot.sectorBoxSide=Math.floor(Math.sqrt(window.sectors.length))*window.sector_size;bot.sectorBox=canvas.rect(window.snake.xx-(bot.sectorBoxSide/2),window.snake.yy-(bot.sectorBoxSide/2),bot.sectorBoxSide,bot.sectorBoxSide);bot.cos=Math.cos(window.snake.ang);bot.sin=Math.sin(window.snake.ang);bot.speedMult=window.snake.sp/5.78;bot.snakeRadius=bot.getSnakeWidth()/2;bot.snakeWidth=bot.getSnakeWidth();bot.sidecircle_r=canvas.circle(window.snake.lnp.xx-((window.snake.lnp.yy+bot.sin*bot.snakeWidth)-window.snake.lnp.yy),window.snake.lnp.yy+((window.snake.lnp.xx+bot.cos*bot.snakeWidth)-window.snake.lnp.xx),bot.snakeWidth*bot.speedMult);bot.sidecircle_l=canvas.circle(window.snake.lnp.xx+((window.snake.lnp.yy+bot.sin*bot.snakeWidth)-window.snake.lnp.yy),window.snake.lnp.yy-((window.snake.lnp.xx+bot.cos*bot.snakeWidth)-window.snake.lnp.xx),bot.snakeWidth*bot.speedMult)},go:function(){bot.every();if(bot.checkCollision()){bot.lookForFood=false;if(bot.foodTimeout){window.clearTimeout(bot.foodTimeout);bot.foodTimeout=window.setTimeout(bot.foodTimer,1000/bot.opt.targetFps*bot.opt.foodFrames)}}else{bot.lookForFood=true;if(bot.foodTimeout===undefined){bot.foodTimeout=window.setTimeout(bot.foodTimer,1000/bot.opt.targetFps*bot.opt.foodFrames)}window.setAcceleration(bot.foodAccel())}},foodTimer:function(){if(window.playing&&bot.lookForFood&&window.snake!==null&&window.snake.alive_amt===1){bot.computeFoodGoal();window.goalCoordinates=bot.currentFood;canvas.setMouseCoordinates(canvas.mapToMouse(window.goalCoordinates))}bot.foodTimeout=undefined}}})();var userInterface=window.userInterface=(function(){var f=document.onkeydown;var g=window.onmousedown;var h=window.oef;var j=window.redraw;var k=window.onmousemove;window.oef=function(){};window.redraw=function(){};return{overlays:{},initOverlays:function(){var a=document.createElement('div');a.style.position='fixed';a.style.right='5px';a.style.bottom='112px';a.style.width='150px';a.style.height='85px';a.style.color='#C0C0C0';a.style.fontFamily='Consolas, Verdana';a.style.zIndex=999;a.style.fontSize='14px';a.style.padding='5px';a.style.borderRadius='5px';a.className='nsi';document.body.appendChild(a);var b=document.createElement('div');b.style.position='fixed';b.style.right='5px';b.style.bottom='5px';b.style.width='160px';b.style.height='14px';b.style.color='#C0C0C0';b.style.fontFamily='Consolas, Verdana';b.style.zIndex=999;b.style.fontSize='14px';b.className='nsi';document.body.appendChild(b);var c=document.createElement('div');c.style.position='fixed';c.style.left='10px';c.style.top='75px';c.style.width='260px';c.style.height='210px';c.style.color='#C0C0C0';c.style.fontFamily='Consolas, Verdana';c.style.zIndex=999;c.style.fontSize='14px';c.style.padding='5px';c.style.borderRadius='5px';c.className='nsi';document.body.appendChild(c);var d=document.createElement('div');d.style.position='fixed';d.style.left='10px';d.style.top='295px';d.style.width='140px';d.style.height='210px';d.style.color='#C0C0C0';d.style.fontFamily='Consolas, Verdana';d.style.zIndex=998;d.style.fontSize='14px';d.style.padding='5px';d.style.borderRadius='5px';d.className='nsi';document.body.appendChild(d);userInterface.overlays.botOverlay=a;userInterface.overlays.serverOverlay=b;userInterface.overlays.prefOverlay=c;userInterface.overlays.statsOverlay=d},toggleOverlays:function(){Object.keys(userInterface.overlays).forEach(function(a){var b=userInterface.overlays[a].style.visibility!=='hidden'?'hidden':'visible';userInterface.overlays[a].style.visibility=b;window.visualDebugging=b==='visible'})},savePreference:function(a,b){window.localStorage.setItem(a,b);userInterface.onPrefChange()},loadPreference:function(a,b){var c=window.localStorage.getItem(a);if(c!==null){if(c==='true'){window[a]=true}else if(c==='false'){window[a]=false}else{window[a]=c}window.log('Setting found for '+a+': '+window[a])}else{window[a]=b;window.log('No setting found for '+a+'. Used default: '+window[a])}userInterface.onPrefChange();return window[a]},playButtonClickListener:function(){userInterface.saveNick();userInterface.loadPreference('autoRespawn',false);userInterface.onPrefChange()},saveNick:function(){var a=document.getElementById('nick').value;userInterface.savePreference('savedNick',a)},hideTop:function(){var a=document.querySelectorAll('div.nsi');for(var i=0;i<a.length;i++){if(a[i].style.top==='4px'&&a[i].style.width==='300px'){a[i].style.visibility='hidden';bot.isTopHidden=true;window.topscore=a[i]}}},framesPerSecond:{fps:0,fpsTimer:function(){if(window.playing&&window.fps&&window.lrd_mtm){if(Date.now()-window.lrd_mtm>970){userInterface.framesPerSecond.fps=window.fps}}}},onkeydown:function(e){f(e);if(window.playing){if(e.keyCode===84){bot.isBotEnabled=!bot.isBotEnabled}if(e.keyCode===85){window.logDebugging=!window.logDebugging;console.log('Log debugging set to: '+window.logDebugging);userInterface.savePreference('logDebugging',window.logDebugging)}if(e.keyCode===89){window.visualDebugging=!window.visualDebugging;console.log('Visual debugging set to: '+window.visualDebugging);userInterface.savePreference('visualDebugging',window.visualDebugging)}if(e.keyCode===73){window.autoRespawn=!window.autoRespawn;console.log('Automatic Respawning set to: '+window.autoRespawn);userInterface.savePreference('autoRespawn',window.autoRespawn)}if(e.keyCode===72){userInterface.toggleOverlays()}if(e.keyCode===79){userInterface.toggleMobileRendering(!window.mobileRender)}if(e.keyCode===65){bot.opt.radiusMult++;console.log('radiusMult set to: '+bot.opt.radiusMult)}if(e.keyCode===83){if(bot.opt.radiusMult>1){bot.opt.radiusMult--;console.log('radiusMult set to: '+bot.opt.radiusMult)}}if(e.keyCode===90){canvas.resetZoom()}if(e.keyCode===81){window.autoRespawn=false;userInterface.quit()}if(e.keyCode===27){bot.quickRespawn()}if(e.keyCode===13){userInterface.saveNick()}userInterface.onPrefChange()}},onmousedown:function(e){if(window.playing){switch(e.which){case 1:bot.defaultAccel=1;if(!bot.isBotEnabled){g(e)}break;case 3:bot.isBotEnabled=!bot.isBotEnabled;break}}else{g(e)}userInterface.onPrefChange()},onmouseup:function(){bot.defaultAccel=0},toggleMobileRendering:function(a){window.mobileRender=a;window.log('Mobile rendering set to: '+window.mobileRender);userInterface.savePreference('mobileRender',window.mobileRender);if(window.mobileRender){window.render_mode=1;window.want_quality=0;window.high_quality=false}else{window.render_mode=2;window.want_quality=1;window.high_quality=true}},updateStats:function(){var c=[];if(bot.scores.length===0)return;c.push('games played: '+bot.scores.length);c.push('avg score: '+Math.round(bot.scores.reduce(function(a,b){return a+b})/(bot.scores.length)));for(var i=0;i<bot.scores.length&&i<10;i++){c.push(i+1+'. '+bot.scores[i])}userInterface.overlays.statsOverlay.innerHTML=c.join('<br/>')},onPrefChange:function(){var a=[];var b=userInterface.handleTextColor;a.push('version: '+version);a.push('[T / Right click] bot: '+b(bot.isBotEnabled));a.push('[O] mobile rendering: '+b(window.mobileRender));a.push('[A/S] radius multiplier: '+bot.opt.radiusMult);a.push('[I] auto respawn: '+b(window.autoRespawn));a.push('[Y] visual debugging: '+b(window.visualDebugging));a.push('[U] log debugging: '+b(window.logDebugging));a.push('[H] overlays');a.push('[Mouse Wheel] zoom');a.push('[Z] reset zoom');a.push('[ESC] quick respawn');a.push('[Q] quit to menu');userInterface.overlays.prefOverlay.innerHTML=a.join('<br/>')},onFrameUpdate:function(){var a=[];if(window.playing&&window.snake!==null){a.push('fps: '+userInterface.framesPerSecond.fps);a.push('x: '+(Math.round(window.snake.xx)||0)+' y: '+(Math.round(window.snake.yy)||0));if(window.goalCoordinates){a.push('target');a.push('x: '+window.goalCoordinates.x+' y: '+window.goalCoordinates.y);if(window.goalCoordinates.sz){a.push('sz: '+window.goalCoordinates.sz)}}if(window.bso!==undefined&&userInterface.overlays.serverOverlay.innerHTML!==window.bso.ip+':'+window.bso.po){userInterface.overlays.serverOverlay.innerHTML=window.bso.ip+':'+window.bso.po}}userInterface.overlays.botOverlay.innerHTML=a.join('<br/>');if(window.playing&&window.visualDebugging){if(window.goalCoordinates&&bot.isBotEnabled){var b={x:window.snake.xx,y:window.snake.yy};canvas.drawLine(b,window.goalCoordinates,'green');canvas.drawCircle(window.goalCoordinates,'red',true)}}},oefTimer:function(){var c=Date.now();canvas.maintainZoom();h();j();if(window.playing&&bot.isBotEnabled&&window.snake!==null){window.onmousemove=function(){};bot.isBotRunning=true;bot.go()}else if(bot.isBotEnabled&&bot.isBotRunning){bot.isBotRunning=false;if(window.lastscore&&window.lastscore.childNodes[1]){bot.scores.push(parseInt(window.lastscore.childNodes[1].innerHTML));bot.scores.sort(function(a,b){return b-a});userInterface.updateStats()}if(window.autoRespawn){window.connect()}}if(!bot.isBotEnabled||!bot.isBotRunning){window.onmousemove=k}userInterface.onFrameUpdate();setTimeout(userInterface.oefTimer,(1000/bot.opt.targetFps)-(Date.now()-c))},quit:function(){if(window.playing&&window.resetGame){window.want_close_socket=true;window.dead_mtm=0;if(window.play_btn){window.play_btn.setEnabled(true)}window.resetGame()}},onresize:function(){window.resize();canvas.canvasRatio={x:window.mc.width/window.ww,y:window.mc.height/window.hh}},handleTextColor:function(a){return'<span style=\"color:'+(a?'green;\">enabled':'red;\">disabled')+'</span>'}}})();(function(){window.play_btn.btnf.addEventListener('click',userInterface.playButtonClickListener);document.onkeydown=userInterface.onkeydown;window.onmousedown=userInterface.onmousedown;window.addEventListener('mouseup',userInterface.onmouseup);window.onresize=userInterface.onresize;userInterface.hideTop();userInterface.initOverlays();userInterface.loadPreference('logDebugging',false);userInterface.loadPreference('visualDebugging',false);userInterface.loadPreference('autoRespawn',false);userInterface.loadPreference('mobileRender',false);window.nick.value=userInterface.loadPreference('savedNick','Slither.io-bot');document.body.addEventListener('mousewheel',canvas.setZoom);document.body.addEventListener('DOMMouseScroll',canvas.setZoom);if(window.mobileRender){userInterface.toggleMobileRendering(true)}else{userInterface.toggleMobileRendering(false)}window.localStorage.setItem('edttsg','1');window.social.remove();setInterval(userInterface.framesPerSecond.fpsTimer,80);userInterface.oefTimer()})();
